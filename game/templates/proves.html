{% extends 'base_g.html' %}

{% block content %}

<style>
    .container2 {
        position: relative;
        text-align: center;
        color: white;
    }
    
    .centered {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    #my-chart {
        width: 100%;
        max-width: 1400px;
        margin: 0 auto;
    }
    
    #my-chart .line {
        
    }
    
    #my-chart .legend {
        
    }

</style>

<div class="container2">
    <img src="http://imatges.vrn47.cat/Logo/UCL-FormBanner2.jpg" style="width:100%;"">
    <h1 class='centered'>Proves</h1>
</div>

<main class="container mt-5">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col"></th>
                <th scope="col">Player</th>
                <th scope="col">Day</th>
                <th scope="col">∆</th>
                <th scope="col">Max</th>
                <th scope="col">Avg</th>
                <th scope="col">Min</th>
                <th scope="col">Tot</th>
                <th scope="col">Count</th>
                <th scope="col">Prize</th>
            </tr>
        </thead>
        <tbody>
            {% for standings in standings %}
                <tr>
                    <td scope="row">{{forloop.counter}}</td>
                    <td scope="row"><img src="http://imatges.vrn47.cat/Honours/Stars/v2/{{ standings.stars }}.png" width="20" height="20"></td>
                    {% if standings.w == 0 %} <td scope="row"><s>{{ standings.fn|slice:1 }}{{ standings.ln }}</s></td> {% else %} <th scope="row">{{ standings.fn|slice:1 }}{{ standings.ln }} {% endif %}</th>
                    <th scope="row">{{ standings.items__dates }}</th>
                    <td scope="row">{% if standings.dlt == stats.maxdlt %} <b>{{ standings.dlt }}🔥✨</b> {% elif standings.dlt == stats.mindlt %} <b><FONT COLOR="#ff0000">{{ standings.dlt }}🧊⚠️</b> {% elif standings.dlt > stats.avgdlt %} <FONT COLOR="#008000">{{ standings.dlt }} {% elif standings.dlt < stats.avgdlt %} <FONT COLOR="#FFA500">{{ standings.dlt }} {% else %} {{ standings.dlt }} {% endif %} </td>
                    <td scope="row">{{ stats.maxdlt }}</td>
                    <td scope="row">{{ stats.avgdlt }}</td>
                    <td scope="row">{{ stats.mindlt }}</td>
                    <td scope="row">{{ stats.sumdlt }}</td>
                    <td scope="row">{{ stats.cntdlt }}</td>
                    <td scope="row">{% if standings.p > 0 %} <img src="http://imatges.vrn47.cat/Logo/LogoElJocDEF50.png" width="20" height="20"> {% endif %}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

<!-- Test table with delta points per day -->

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Player</th>
                <th scope="col">Rank 0</th>
                <th scope="col">Rank -1</th>
                <th scope="col">△▽</th>
                <th scope="col">RankDlt</th>
                <th scope="col"></th>
                <th scope="col">Total 0</th>
                <th scope="col">Total -1</th>
                <th scope="col">Day {{data0}}</th>
                <th scope="col">Day {{data1}}</th>
                <th scope="col">Day {{data2}}</th>
                <th scope="col">Day {{data3}}</th>
                <th scope="col">Day {{data4}}</th>
            </tr>
        </thead>
        <tbody>
            {% for standings3 in standings3 %}
                <tr>
                    <td scope="row"><img src="http://imatges.vrn47.cat/Honours/Stars/v2/{{ standings3.stars }}.png" width="20" height="20"></td>
                    <td scope="row">{{ standings3.rank0 }}</td>
                    <td scope="row">{{ standings3.rank1 }}</td>
                    <td scope="row">{% if standings3.rank0 == standings3.rank1 %} ≡ {% elif standings3.rank1 > standings3.rank0 %} ▲ {% elif standings3.rank0 > standings3.rank1 %} ▼ {% else %} . {% endif %} </td>
                    <td scope="row">{{ standings3.rankdlt }}</td>
                    <th scope="row">{{ standings3.fn|slice:1 }}{{ standings3.ln }}</th>
                    <th scope="row">{{ standings3.tot }}</th>
                    <th scope="row">{{ standings3.tot2 }}</th>
                    <td scope="row">{% if standings3.dlt1 == stats3.maxdlt1 %} <b>{{ standings3.dlt1 }}✨</b> {% elif standings3.dlt1 == stats3.mindlt1 %} <b><FONT COLOR="#ff0000">{{ standings3.dlt1 }}⚠️</b> {% elif standings3.dlt1 > stats3.avgdlt1 %} <FONT COLOR="#008000">{{ standings3.dlt1 }} {% elif standings3.dlt1 < stats3.avgdlt1 %} <FONT COLOR="#FFA500">{{ standings3.dlt1 }} {% else %} {{ standings3.dlt1 }} {% endif %} </td>
                    <td scope="row">{% if standings3.dlt2 == stats3.maxdlt2 %} <b>{{ standings3.dlt2 }}✨</b> {% elif standings3.dlt2 == stats3.mindlt2 %} <b><FONT COLOR="#ff0000">{{ standings3.dlt2 }}⚠️</b> {% elif standings3.dlt2 > stats3.avgdlt2 %} <FONT COLOR="#008000">{{ standings3.dlt2 }} {% elif standings3.dlt2 < stats3.avgdlt2 %} <FONT COLOR="#FFA500">{{ standings3.dlt2 }} {% else %} {{ standings3.dlt2 }} {% endif %} </td>
                    <td scope="row">{% if standings3.dlt3 == stats3.maxdlt3 %} <b>{{ standings3.dlt3 }}✨</b> {% elif standings3.dlt3 == stats3.mindlt3 %} <b><FONT COLOR="#ff0000">{{ standings3.dlt3 }}⚠️</b> {% elif standings3.dlt3 > stats3.avgdlt3 %} <FONT COLOR="#008000">{{ standings3.dlt3 }} {% elif standings3.dlt3 < stats3.avgdlt3 %} <FONT COLOR="#FFA500">{{ standings3.dlt3 }} {% else %} {{ standings3.dlt3 }} {% endif %} </td>
                    <td scope="row">{% if standings3.dlt4 == stats3.maxdlt4 %} <b>{{ standings3.dlt4 }}✨</b> {% elif standings3.dlt4 == stats3.mindlt4 %} <b><FONT COLOR="#ff0000">{{ standings3.dlt4 }}⚠️</b> {% elif standings3.dlt4 > stats3.avgdlt4 %} <FONT COLOR="#008000">{{ standings3.dlt4 }} {% elif standings3.dlt4 < stats3.avgdlt4 %} <FONT COLOR="#FFA500">{{ standings3.dlt4 }} {% else %} {{ standings3.dlt4 }} {% endif %} </td>
                    <td scope="row">{% if standings3.dlt5 == stats3.maxdlt5 %} <b>{{ standings3.dlt5 }}✨</b> {% elif standings3.dlt5 == stats3.mindlt5 %} <b><FONT COLOR="#ff0000">{{ standings3.dlt5 }}⚠️</b> {% elif standings3.dlt5 > stats3.avgdlt5 %} <FONT COLOR="#008000">{{ standings3.dlt5 }} {% elif standings3.dlt5 < stats3.avgdlt5 %} <FONT COLOR="#FFA500">{{ standings3.dlt5 }} {% else %} {{ standings3.dlt5 }} {% endif %} </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

<!-- Test table with accumulated points per day -->

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">△▽</th>
                <th scope="col">Player</th>
                <th scope="col"></th>
                <th scope="col">Day {{data0}}</th>
                <th scope="col">Day {{data1}}</th>
                <th scope="col">Day {{data2}}</th>
                <th scope="col">Day {{data3}}</th>
                <th scope="col">Day {{data4}}</th>
            </tr>
        </thead>
        <tbody>
            {% for standings4 in standings4 %}
                <tr>
                    <td scope="row">{{forloop.counter}} {% if standings4.rank0 == standings4.rank1 %} ≡ {% elif standings4.rank1 > standings4.rank0 %} ▲ {% elif standings4.rank0 > standings4.rank1 %} ▼ {% else %} . {% endif %}</td>
                    <td scope="row"><img src="http://imatges.vrn47.cat/Honours/Stars/v2/{{ standings4.stars }}.png" width="20" height="20"></td>
                    <th scope="row">{{ standings4.fn|slice:1 }}{{ standings4.ln }}</th>
                    <td scope="row">{% if standings4.dlt1 == stats4.maxdlt1 %} <b>{{ standings4.dlt1 }}✨</b> {% elif standings4.dlt1 == stats4.mindlt1 %} <b><FONT COLOR="#ff0000">{{ standings4.dlt1 }}⚠️</b> {% elif standings4.dlt1 > stats4.avgdlt1 %} <FONT COLOR="#008000">{{ standings4.dlt1 }} {% elif standings4.dlt1 < stats4.avgdlt1 %} <FONT COLOR="#FFA500">{{ standings4.dlt1 }} {% else %} {{ standings4.dlt1 }} {% endif %} </td>
                    <td scope="row">{% if standings4.dlt2 == stats4.maxdlt2 %} <b>{{ standings4.dlt2 }}✨</b> {% elif standings4.dlt2 == stats4.mindlt2 %} <b><FONT COLOR="#ff0000">{{ standings4.dlt2 }}⚠️</b> {% elif standings4.dlt2 > stats4.avgdlt2 %} <FONT COLOR="#008000">{{ standings4.dlt2 }} {% elif standings4.dlt2 < stats4.avgdlt2 %} <FONT COLOR="#FFA500">{{ standings4.dlt2 }} {% else %} {{ standings4.dlt2 }} {% endif %} </td>
                    <td scope="row">{% if standings4.dlt3 == stats4.maxdlt3 %} <b>{{ standings4.dlt3 }}✨</b> {% elif standings4.dlt3 == stats4.mindlt3 %} <b><FONT COLOR="#ff0000">{{ standings4.dlt3 }}⚠️</b> {% elif standings4.dlt3 > stats4.avgdlt3 %} <FONT COLOR="#008000">{{ standings4.dlt3 }} {% elif standings4.dlt3 < stats4.avgdlt3 %} <FONT COLOR="#FFA500">{{ standings4.dlt3 }} {% else %} {{ standings4.dlt3 }} {% endif %} </td>
                    <td scope="row">{% if standings4.dlt4 == stats4.maxdlt4 %} <b>{{ standings4.dlt4 }}✨</b> {% elif standings4.dlt4 == stats4.mindlt4 %} <b><FONT COLOR="#ff0000">{{ standings4.dlt4 }}⚠️</b> {% elif standings4.dlt4 > stats4.avgdlt4 %} <FONT COLOR="#008000">{{ standings4.dlt4 }} {% elif standings4.dlt4 < stats4.avgdlt4 %} <FONT COLOR="#FFA500">{{ standings4.dlt4 }} {% else %} {{ standings4.dlt4 }} {% endif %} </td>
                    <td scope="row">{% if standings4.dlt5 == stats4.maxdlt5 %} <b>{{ standings4.dlt5 }}✨</b> {% elif standings4.dlt5 == stats4.mindlt5 %} <b><FONT COLOR="#ff0000">{{ standings4.dlt5 }}⚠️</b> {% elif standings4.dlt5 > stats4.avgdlt5 %} <FONT COLOR="#008000">{{ standings4.dlt5 }} {% elif standings4.dlt5 < stats4.avgdlt5 %} <FONT COLOR="#FFA500">{{ standings4.dlt5 }} {% else %} {{ standings4.dlt5 }} {% endif %} </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

<!-- Test chart using chart.css -->
    <div id="chart">

        <table class="charts-css line multiple show-labels">
            <tr>
                <th scope="row">Day 1</th>
                {% for chart in chart %}
                <td style="--start: {% widthratio chart.dlt1 stats4.maxdlt1 1 %}; --end: {% widthratio chart.dlt2 stats4.maxdlt1 1 %};"> <span class="data"> {{ chart.fn|slice:1 }}{{ chart.ln|slice:1 }}</span></td>
                {% endfor %}
                <td style="--start: 1; --end: .75"> <span class="data"> A1</span> </td>
                <td style="--start: .55; --end: .65"> <span class="data"> B1</span> </td>
            </tr>
            <tr>
                <th scope="row">Day 2</th>
                {% for chart in chart %}
                <td style="--start: {% widthratio chart.dlt2 stats4.maxdlt1 1 %}; --end: {% widthratio chart.dlt3 stats4.maxdlt1 1 %};"> <span class="data"> {{ chart.fn|slice:1 }}{{ chart.ln|slice:1 }}</span></td>
                {% endfor %}
                <td style="--start: .75; --end: .65"> <span class="data"> A2</span> </td>
                <td style="--start: .65; --end: .75"> <span class="data"> B2</span> </td>
            </tr>
            <tr>
                <th scope="row">Day 3</th>
                {% for chart in chart %}
                <td style="--start: {% widthratio chart.dlt3 stats4.maxdlt1 1 %}; --end: {% widthratio chart.dlt4 stats4.maxdlt1 1 %};"> <span class="data"> {{ chart.fn|slice:1 }}{{ chart.ln|slice:1 }}</span></td>
                {% endfor %}
                <td style="--start: .65; --end: .55"> <span class="data"> A3</span> </td>
                <td style="--start: .75; --end: 1"> <span class="data"> B3</span> </td>
            </tr>
       </table>
      
        <ul class="charts-css legend">
          ...
        </ul>
    </div>

<!-- Test chart using chart.js -->

    <div id="chart2">
        <canvas id="myChart2" style="width:100%;max-width:1400px"></canvas>
        <script type="text/javascript">
            var ctx = document.getElementById('myChart2').getContext('2d');
            var myChart1 = new Chart(ctx, {
                type: "line",
              data: {
                labels: [100,200,300,400,500,600,700,800,900,1000],
                datasets: [{ 
                  data: [860,1140,1060,1060,1070,1110,1330,2210,7830,2478],
                  borderColor: "red",
                  fill: false
                }, { 
                  data: [1600,1700,1700,1900,2000,2700,4000,5000,6000,7000],
                  borderColor: "green",
                  fill: false
                }, { 
                  data: [300,700,2000,5000,6000,4000,2000,1000,200,100],
                  borderColor: "blue",
                  fill: false
                }]
              },
              options: {
                legend: {display: false}
              }
            })
            </script>
    </div>

<!-- Test points table -->

    <div class="row mt-5">
        <table class="table-bordered border-primary table-sm">
            <thead>
                <tr>
                    <th>Items</th>
                    <th>Description</th>
                    {% for playersx in playersx %}
                    <th> {{ playersx.p_fname|slice:1 }}{{ playersx.p_lname|slice:1 }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for forecastsx in forecastsx %}
                <tr>
                    {% if forecastsx.emk == playersx.0.p_email %}
                    <td>{{forloop.counter}}</td>
                    <td> {% if forecastsx.field == 2 %} {{forecastsx.local|slice:3}}-{{forecastsx.away|slice:3 }} {% else %} {{ forecastsx.desc|slice:6 }} {% endif %}</td>
                    {% endif %}
                    {% if forecastsx.emk == playersx.0.p_email %}
                    <td class="vert hori"> {% if forecastsx.field == 2 %} {{ forecastsx.fvalue1 }}-{{forecastsx.fvalue2 }} {% else %} {{ forecastsx.fvalue1|slice:6 }} {% endif %}</td>
                    <td></td>
                    {% endif %}
                    {% if forecastsx.emk == playersx.1.p_email %}
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="vert hori"> {% if forecastsx.field == 2 %} {{ forecastsx.fvalue1 }}-{{forecastsx.fvalue2 }} {% else %} {{ forecastsx.fvalue1|slice:6 }} {% endif %}</td>
                    {% endif %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</main>

{% endblock %}