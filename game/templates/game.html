{% extends 'base_g.html' %}

{% block content %}

<style>
    .container2 {
        position: relative;
        text-align: center;
        color: white;
    }

    .centered {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .center {
        margin-left: auto;
        margin-right: auto;
    }

    .titolcella {
        background-color: black;
        color: white;
        font-weight: bold;
}

</style>

<div class="container2">
    <img src="http://imatges.vrn47.cat/Logo/UCL-FormBanner2.jpg" style="width:100%;"">
    <h1 class='centered'>El Joc</h1>
</div>

<main class="container">
    <div class="row">
        <div class="col-md-8 offset-md-2 mt-5">
            <div class="d-grid gap-2">
                <a class="btn btn-primary" href="/forecasts/">Forecast</a>
            </div>
            <div class="row mt-5">
                <div class="col d-grid gap-2">
                    <a class="btn btn-info" href="/standings/">Standings</a>
                </div>
                <div class="col d-grid gap-2">
                    <a class="btn btn-info" href="/statistics/">Statistics</a>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col d-grid gap-2">
                    <a class="btn btn-info" href="/oldforecasts/">Previous forecasts & points</a>
                </div>
                <div class="col d-grid gap-2">
                    <a class="btn btn-info" href="/pointstable/">Points table</a>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col d-grid gap-2">
                    <a class="btn btn-secondary text-body-secondary" href="/communities/">Communities</a>
                </div>
                <div class="col d-grid gap-2">
                    <a class="text-body-secondary btn btn-secondary" href="/items/">Other</a>
                </div>
            </div>
        </div>
    </div>

    <table class="table table-striped table-hover center offset-md-2 mt-5" style="width:60%">
        <thead>
            <tr><th colspan="6" style="text-align: center" class="titolcella">STATISTICS DAY {{data}}</th></tr>
            <tr style="text-align: center">
            <th scope="col">Max pts</th>
            <th scope="col">Avg pts</th>
            <th scope="col">Min pts</th>
            <th scope="col">Tot pts</th>
            <th scope="col">Count players</th>
          </tr>
        </thead>
        <tbody>
            <tr style="text-align: center">
              <td scope="row">{{ stats.maxdlt }}</td>
              <td scope="row">{{ stats.avgdlt }}</td>
              <td scope="row">{{ stats.mindlt }}</td>
              <td scope="row">{{ stats.sumdlt }}</td>
              <td scope="row">{{ stats.cntdlt }}</td>
            </tr>
        </tbody>
      </table>

      <table class="table table-striped table-hover center offset-md-2 mt-5" style="width:60%">
        <thead>
          <tr><th colspan="6" style="text-align: center" class="titolcella">STANDINGS DAY {{data}}</th></tr>
          <tr>
            <th scope="col">#</th>
            <th scope="col"></th>
            <th scope="col">Player</th>
            <th scope="col">Points</th>
            <th scope="col">∆</th>
            <th scope="col">Prize</th>
          </tr>
        </thead>
        <tbody>
          {% for standings in standings %}
            <tr>
              <td scope="row">{{forloop.counter}}</td>
              <td scope="row"><img src="http://imatges.vrn47.cat/Honours/Stars/v2/{{ standings.stars }}.png" width="20" height="20"></td>
              {% if standings.w == 0 %} <td scope="row"><s>{{ standings.fn|slice:1 }}{{ standings.ln }}</s></td> {% else %} <th scope="row">{{ standings.fn|slice:1 }}{{ standings.ln }} {% endif %}</th>
              <th scope="row">{{ standings.pts }}</th>
              <td scope="row">{% if standings.dlt == stats.maxdlt %} <b>{{ standings.dlt }}✨</b> {% elif standings.dlt == stats.mindlt %} <b><FONT COLOR="#ff0000">{{ standings.dlt }}⚠️</b> {% elif standings.dlt > stats.avgdlt %} <FONT COLOR="#008000">{{ standings.dlt }} {% elif standings.dlt < stats.avgdlt %} <FONT COLOR="#FFA500">{{ standings.dlt }} {% else %} {{ standings.dlt }} {% endif %} </td>
              <td scope="row">{% if standings.p > 0 %} <img src="http://imatges.vrn47.cat/Logo/LogoElJocDEF50.png" width="20" height="20"> {% endif %}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

    </main>
    {% endblock %}